===========================================================
ğŸ–¥ï¸ LINUX STARTUP & SERVICE MANAGEMENT - SYSTEMD OVERVIEW
===========================================================

ğŸ”¹ When Linux boots:
- Essential applications start automatically.
- Some apps start in a specific order (dependencies).
- Crashed services can restart automatically.
- All of this is managed by the "init system".

-----------------------------------------------------------
ğŸ§  INIT SYSTEM & SYSTEMD
-----------------------------------------------------------
- The **init system** (initialization system) manages startup.
- **systemd** is the most common init system today.
  â–ª systemd is both:
    - A tool suite (manages system processes)
    - The actual init system binary itself

- systemd uses **unit files** (text files) to manage services.

Types of units:
  â–ª service â€“ manages daemons like sshd
  â–ª socket â€“ activates service based on socket activity
  â–ª timer â€“ schedules services
  â–ª device, mount, target, path, etc.

-----------------------------------------------------------
ğŸ”§ SERVICE UNITS
-----------------------------------------------------------
- Text files that define how to manage a service's lifecycle.

Common directives:
  â–ª ExecStart â€“ command to start the service
  â–ª ExecReload â€“ command to reload settings
  â–ª Restart â€“ behavior when service crashes

Example:
  `man systemd.service` â†’ shows all available directives

-----------------------------------------------------------
ğŸ“‚ SSH EXAMPLE
-----------------------------------------------------------
- sshd is managed via a service unit file
- View the file:
  `cat /lib/systemd/system/ssh.service`

- Restart policy:
  If sshd crashes, systemd restarts it automatically.

- Modify service file:
  `sudo systemctl edit ssh.service`

- Revert to default:
  `sudo systemctl revert ssh.service`

-----------------------------------------------------------
ğŸ“Š CHECK SERVICE STATUS
-----------------------------------------------------------
- `systemctl status ssh.service`
  â–ª Shows if service is active/enabled
  â–ª Shows PID, launch command, and log lines

Status meanings:
  â–ª active (running) â€“ program is up and running
  â–ª active (exited) â€“ program ran once and exited normally
  â–ª inactive / failed â€“ stopped or failed to run

-----------------------------------------------------------
ğŸ› ï¸ SERVICE COMMANDS (systemctl)
-----------------------------------------------------------

Start / Stop:
  â–ª `sudo systemctl start <service>`
  â–ª `sudo systemctl stop <service>`

Enable / Disable (for auto-start at boot):
  â–ª `sudo systemctl enable <service>`
  â–ª `sudo systemctl disable <service>`

Check if enabled:
  â–ª `systemctl is-enabled <service>`

Enable & start now (combined):
  â–ª `sudo systemctl enable --now <service>`

Disable & stop now (combined):
  â–ª `sudo systemctl disable --now <service>`

Restart:
  â–ª `sudo systemctl restart <service>`

Reload (apply config changes without restart):
  â–ª `sudo systemctl reload <service>`

Reload if possible, else restart:
  â–ª `sudo systemctl reload-or-restart <service>`

-----------------------------------------------------------
ğŸ”’ MASKING SERVICES
-----------------------------------------------------------
- Prevent a service from being started manually or automatically:
  â–ª `sudo systemctl mask <service>`
  â–ª e.g. `sudo systemctl mask atd.service`

- Unmask to re-enable:
  â–ª `sudo systemctl unmask <service>`

-----------------------------------------------------------
ğŸ“¦ AFTER INSTALLATION
-----------------------------------------------------------
Debian/Ubuntu:
  â–ª Usually auto-enable and start services post-install.

RedHat/CentOS:
  â–ª May require manual steps:
    `sudo systemctl enable --now <service>`

-----------------------------------------------------------
ğŸ“„ FINDING SERVICES
-----------------------------------------------------------
- List all services (active/inactive, loaded/unloaded):
  â–ª `systemctl list-units --type=service --all`

- List all units (all types):
  â–ª `systemctl list-units`

Note:
  â–ª Service names may vary by distro (e.g., Apache may be `apache2.service` or `httpd.service`).

-----------------------------------------------------------
ğŸ“Œ QUICK REFERENCE
-----------------------------------------------------------
Start:        sudo systemctl start <svc>
Stop:         sudo systemctl stop <svc>
Enable:       sudo systemctl enable <svc>
Disable:      sudo systemctl disable <svc>
Restart:      sudo systemctl restart <svc>
Reload:       sudo systemctl reload <svc>
Status:       systemctl status <svc>
Mask:         sudo systemctl mask <svc>
Unmask:       sudo systemctl unmask <svc>
List All:     systemctl list-units --type=service --all
